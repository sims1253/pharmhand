% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/meta_network.R
\name{calculate_sucra}
\alias{calculate_sucra}
\title{Calculates ranking probabilities and SUCRA (Surface Under Cumulative
Ranking curve) or P-scores for treatments in network meta-analysis.}
\usage{
calculate_sucra(nma_result, lower_better = NULL, n_sim = 1000, seed = 42)
}
\arguments{
\item{nma_result}{Result from network_meta()}

\item{lower_better}{Logical. Is lower estimate better?
Default: TRUE for ratios}

\item{n_sim}{Integer. Number of simulations for ranking. Default: 1000}

\item{seed}{Integer or NULL. Random seed for reproducibility. Default: 42.
Set to NULL for non-deterministic results.}
}
\value{
List with rankings, SUCRA/P-scores, and rankogram data. When
\code{n_treatments == 1}, the returned \code{sucra} value is set to \code{1.0} (the
single
treatment is trivially best).
}
\description{
Calculates ranking probabilities and SUCRA (Surface Under Cumulative
Ranking curve) or P-scores for treatments in network meta-analysis.
}
\details{
The reference treatment is treated as the baseline in the output and is
assigned an SE of 0. For any non-reference treatments with missing/invalid
standard errors, the SE is imputed using the median of valid SE values.
This imputation can affect ranking probabilities and SUCRA values.
}
\note{
RNG state is isolated via \code{withr::with_seed} during simulation,
so calling this function does not alter the global RNG state.
}
\examples{
# Calculate SUCRA rankings
nma_data <- data.frame(
  study = c("S1", "S2", "S3"),
  treat1 = c("A", "B", "A"),
  treat2 = c("B", "C", "C"),
  effect = log(c(0.75, 0.90, 0.80)),
  se = c(0.12, 0.15, 0.18)
)
nma_result <- network_meta(nma_data, effect_measure = "hr")
sucra <- calculate_sucra(nma_result)
sucra$ranking
sucra$interpretation
}
