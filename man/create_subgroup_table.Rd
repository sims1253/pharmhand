% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/efficacy_tables.R
\name{create_subgroup_table}
\alias{create_subgroup_table}
\title{Create Subgroup Analysis Table}
\usage{
create_subgroup_table(
  data,
  subgroups,
  endpoint_type = c("tte", "binary"),
  time_var = "AVAL",
  event_var = "CNSR",
  response_var = "AVALC",
  response_values = c("CR", "PR"),
  trt_var = "TRT01P",
  ref_group = NULL,
  conf_level = 0.95,
  show_interaction = TRUE,
  adjust_method = c("none", "holm", "hochberg", "hommel", "bonferroni", "BH", "fdr",
    "BY"),
  title = "Subgroup Analysis",
  autofit = TRUE
)
}
\arguments{
\item{data}{ADaMData object or data frame}

\item{subgroups}{Named list mapping variable names to display labels,
e.g., \code{list(AGEGR1 = "Age Group", SEX = "Sex", RACE = "Race")}}

\item{endpoint_type}{"tte" for time-to-event (HR) or "binary" for
binary outcomes (OR)}

\item{time_var}{Time variable for TTE endpoints (default: "AVAL")}

\item{event_var}{Event variable for TTE endpoints. If "CNSR", will be
inverted automatically. Default: "CNSR"}

\item{response_var}{Response variable for binary endpoints (default: "AVALC")}

\item{response_values}{Values indicating response for binary endpoints
(default: c("CR", "PR"))}

\item{trt_var}{Treatment variable name (default: "TRT01P")}

\item{ref_group}{Reference treatment group. If NULL, uses first level.}

\item{conf_level}{Confidence level (default: 0.95)}

\item{show_interaction}{Logical, calculate and show interaction p-values
(default: TRUE)}

\item{adjust_method}{Character. Method for adjusting interaction p-values
for multiple comparisons. One of:
\itemize{
\item "none" (default): No adjustment
\item "holm": Holm-Bonferroni step-down (recommended for FWER control)
\item "hochberg": Hochberg step-up (controls FWER)
\item "bonferroni": Bonferroni correction (conservative)
\item "BH" or "fdr": Benjamini-Hochberg (controls FDR)
\item "BY": Benjamini-Yekutieli (controls FDR under dependency)
See \code{\link{adjust_pvalues}} for details.
}}

\item{title}{Table title}

\item{autofit}{Logical, whether to autofit column widths (default: TRUE)}
}
\value{
A ClinicalTable object
}
\description{
Generates a tabular summary of subgroup analyses for HTA dossiers and
Word documents. Provides the same information as \code{create_forest_plot()}
in table format showing treatment effects (HR or OR) by subgroup with
confidence intervals and interaction p-values.
}
\examples{
\dontrun{
# TTE subgroup table
sg_table <- create_subgroup_table(
  data = adtte,
  subgroups = list(
    AGEGR1 = "Age Group",
    SEX = "Sex"
  ),
  endpoint_type = "tte",
  title = "Subgroup Analysis - Overall Survival"
)

# Binary endpoint subgroup table
sg_table <- create_subgroup_table(
  data = adrs,
  subgroups = list(SEX = "Sex"),
  endpoint_type = "binary",
  response_values = c("CR", "PR"),
  title = "Response Rate by Subgroup"
)

# With multiplicity adjustment for GBA dossiers
sg_table <- create_subgroup_table(
  data = adtte,
  subgroups = list(
    AGEGR1 = "Age Group",
    SEX = "Sex",
    RACE = "Race"
  ),
  endpoint_type = "tte",
  adjust_method = "holm",
  title = "Subgroup Analysis with Multiplicity Adjustment"
)
}
}
