% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/competing_risks.R
\name{competing_risk_analysis}
\alias{competing_risk_analysis}
\title{Competing Risk Analysis}
\usage{
competing_risk_analysis(
  data,
  time_var,
  event_var,
  trt_var,
  main_event,
  competing_events,
  covariates = NULL,
  conf_level = 0.95,
  time_points = NULL,
  reference_group = NULL
)
}
\arguments{
\item{data}{A data frame containing the survival data}

\item{time_var}{Character. Name of the time variable}

\item{event_var}{Character. Name of the event indicator variable}

\item{trt_var}{Character. Name of the treatment variable}

\item{main_event}{Integer. Code for the main event of interest}

\item{competing_events}{Integer vector. Codes for competing events}

\item{covariates}{Character vector of covariate names}

\item{conf_level}{Numeric. Confidence level for intervals (default: 0.95)}

\item{time_points}{Numeric vector of specific time points to estimate CIF.
If NULL, uses automatic grid based on data.}

\item{reference_group}{Character. Reference group for treatment comparison.
If NULL, uses first level of treatment variable.}
}
\value{
A CompetingRiskResult object
}
\description{
Performs competing risk analysis using the Fine-Gray model to estimate
cumulative incidence functions and subhazard ratios.
}
\details{
The Fine-Gray model estimates the cumulative incidence function (CIF):
F_k(t) = P(T <= t, epsilon = k)

where T is the event time and epsilon is the event type.

The model uses a proportional subhazards approach:
lambda_k(t|X) = lambda_{0k}(t) * exp(beta_k'X)

where lambda_k is the subhazard for event type k.
}
\examples{
\dontrun{
# Basic competing risk analysis
result <- competing_risk_analysis(
  data = survival_data,
  time_var = "time",
  event_var = "event",
  trt_var = "TRT01P",
  main_event = 1,
  competing_events = c(2, 3)
)

# With covariates and custom time points
result <- competing_risk_analysis(
  data = survival_data,
  time_var = "time",
  event_var = "event",
  trt_var = "TRT01P",
  main_event = 1,
  competing_events = c(2),
  covariates = c("age", "sex"),
  time_points = c(6, 12, 24)
)
}
}
\references{
Fine, J.P. and Gray, R.J. (1999). A proportional hazards model for the
subdistribution of a competing risk. Journal of the American Statistical
Association, 94(446), 496-509.
}
