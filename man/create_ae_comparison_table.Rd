% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/safety_tables.R
\name{create_ae_comparison_table}
\alias{create_ae_comparison_table}
\title{Create AE Comparison Table with Risk Differences}
\usage{
create_ae_comparison_table(
  adae,
  adsl,
  ref_group,
  trt_var = "TRT01P",
  by = c("pt", "soc", "overall"),
  threshold = 0,
  sort_by = c("incidence", "rd", "rr"),
  conf_level = 0.95,
  title = NULL,
  autofit = TRUE
)
}
\arguments{
\item{adae}{ADAE data frame}

\item{adsl}{ADSL data frame for denominators}

\item{ref_group}{Character. Reference (control) group for comparison}

\item{trt_var}{Treatment variable name (default: "TRT01P")}

\item{by}{Character. Grouping level: "soc", "pt", or "overall"
(default: "pt")}

\item{threshold}{Numeric. Minimum incidence pct in any group (default: 0)}

\item{sort_by}{Character. Sort by "rd", "rr", or "incidence"
(default: "incidence")}

\item{conf_level}{Confidence level for intervals (default: 0.95)}

\item{title}{Table title (auto-generated if NULL)}

\item{autofit}{Logical (default: TRUE)}
}
\value{
ClinicalTable with columns for each group's n(\%), RD, 95\% CI, RR,
p-value
}
\description{
Generate AE table with statistical comparisons (risk difference, risk ratio)
between treatment groups. Essential for GBA/AMNOG safety assessments.
}
\examples{
\dontrun{
# AE comparison by PT
ae_comp <- create_ae_comparison_table(
  adae, adsl,
  ref_group = "Placebo",
  by = "pt"
)

# AE comparison by SOC with 5\% threshold
ae_comp_soc <- create_ae_comparison_table(
  adae, adsl,
  ref_group = "Placebo",
  by = "soc",
  threshold = 5
)
}
}
