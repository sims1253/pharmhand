% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/safety_summary.R
\name{create_ae_summary_table}
\alias{create_ae_summary_table}
\title{Create Adverse Event Summary Table}
\usage{
create_ae_summary_table(
  adae,
  adsl = NULL,
  type = c("overview", "soc", "soc_pt", "pt", "common", "severity", "relationship",
    "sae", "discontinuation", "deaths", "comparison"),
  trt_var = "TRT01P",
  n_top = 15,
  soc = NULL,
  title = NULL,
  autofit = TRUE,
  ref_group = NULL,
  by = "pt",
  threshold = 0,
  sort_by = "incidence",
  conf_level = 0.95,
  include_nnh = TRUE,
  soc_order = NULL
)
}
\arguments{
\item{adae}{ADAE data frame (ADaM Adverse Events dataset)}

\item{adsl}{ADSL data frame (optional, required for some table types
like "deaths", "comparison", or for denominator calculation)}

\item{type}{Character string specifying the table type:
\itemize{
\item "overview" - Summary of TEAEs, related AEs, SAEs, discontinuations
\item "soc" - AEs by System Organ Class
\item "soc_pt" - AEs by SOC and Preferred Term (hierarchical)
\item "pt" - AEs by Preferred Term only
\item "common" - Most frequently reported AEs
\item "severity" - AEs by maximum severity
\item "relationship" - AEs by relationship to study drug
\item "sae" - Serious Adverse Events
\item "discontinuation" - AEs leading to discontinuation
\item "deaths" - Deaths summary (requires adsl)
\item "comparison" - AE comparison with RD/RR (requires adsl)
}}

\item{trt_var}{Treatment variable name (default: "TRT01P")}

\item{n_top}{For type="common", number of top PTs to show (default: 15)}

\item{soc}{For type="pt", filter to specific SOC (optional)}

\item{title}{Table title (auto-generated if NULL)}

\item{autofit}{Logical, whether to autofit column widths (default: TRUE)}

\item{ref_group}{For type="comparison", the reference group for comparisons}

\item{by}{For type="comparison", grouping level: "soc", "pt", or "overall"}

\item{threshold}{For type="comparison", minimum incidence pct (default: 0)}

\item{sort_by}{For type="comparison", sort by "rd", "rr", or "incidence"}

\item{conf_level}{For type="comparison", confidence level (default: 0.95)}

\item{include_nnh}{For type="comparison", include NNH column (default: TRUE)}

\item{soc_order}{For type="soc" or type="soc_pt", custom ordering of SOCs
(character vector). If NULL, SOCs are sorted alphabetically (default: NULL)}
}
\value{
A ClinicalTable object
}
\description{
Generate AE summary tables for clinical study reports.
}
\examples{
\dontrun{
# AE Overview
overview <- create_ae_summary_table(adae, adsl, type = "overview")

# SOC table
soc_table <- create_ae_summary_table(adae, adsl, type = "soc")

# SOC/PT hierarchical table
soc_pt <- create_ae_summary_table(adae, adsl, type = "soc_pt")

# Most common AEs (top 20)
common <- create_ae_summary_table(adae, adsl, type = "common", n_top = 20)

# SAE table
sae <- create_ae_summary_table(adae, adsl, type = "sae")

# AE comparison with risk differences
comparison <- create_ae_summary_table(
  adae, adsl,
  type = "comparison",
  ref_group = "Placebo",
  by = "pt",
  threshold = 5
)

# SOC table with custom ordering
soc_ordered <- create_ae_summary_table(
  adae, adsl,
  type = "soc",
  soc_order = c(
    "Infections",
    "Nervous system disorders",
    "Gastrointestinal disorders"
  )
)
}
}
