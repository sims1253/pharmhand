% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plotting.R
\name{create_km_plot}
\alias{create_km_plot}
\title{Create Kaplan-Meier Plot}
\usage{
create_km_plot(
  data,
  time_var = "AVAL",
  event_var = "CNSR",
  trt_var = "TRT01P",
  title = "Kaplan-Meier Plot",
  xlab = "Time",
  ylab = "Survival Probability",
  risk_table = FALSE,
  show_median = FALSE,
  show_ci = FALSE,
  show_censor = TRUE,
  landmarks = NULL,
  xlim = NULL,
  palette = NULL,
  conf_level = 0.95,
  base_size = 11
)
}
\arguments{
\item{data}{ADaMData object or data frame containing survival data}

\item{time_var}{Time variable name (default: "AVAL")}

\item{event_var}{Event variable name. If "CNSR" (ADaM censoring flag),
it will be automatically inverted (0=event becomes 1=event).
Otherwise expects 1=event, 0=censor. Default: "CNSR"}

\item{trt_var}{Treatment variable name (default: "TRT01P")}

\item{title}{Plot title}

\item{xlab}{X-axis label}

\item{ylab}{Y-axis label}

\item{risk_table}{Logical, include risk table below. Requires patchwork.}

\item{show_median}{Logical, add horizontal/vertical lines at median
survival time (default: FALSE)}

\item{show_ci}{Logical, show confidence bands around survival curves
(default: FALSE)}

\item{show_censor}{Logical, show censoring marks as crosses (default: TRUE)}

\item{landmarks}{Numeric vector of timepoints to highlight with vertical
lines (e.g., c(12, 24) for 12 and 24 months). NULL for none.}

\item{xlim}{Optional x-axis limits as c(min, max)}

\item{palette}{Color palette for treatment groups. Precedence: (1) explicit
palette argument (character vector of colors or named palette string),
(2) \code{getOption("pharmhand.palette")}, (3) default Okabe-Ito reordered
(orange, sky blue for first two arms). Named palette strings from
\code{grDevices::palette.pals()} can be used (e.g., "Okabe-Ito", "R4",
"Tableau 10", "Alphabet").}

\item{conf_level}{Confidence level for CI bands (default: 0.95)}

\item{base_size}{Base font size for plot text elements (default: 11).
Also used for risk table text.}
}
\value{
A ClinicalPlot object
}
\description{
Kaplan-Meier plot using ggplot2 and survival.
}
\examples{
\dontrun{
# Basic KM plot
km <- create_km_plot(
  data = adtte,
  time_var = "AVAL",
  event_var = "CNSR",
  title = "Overall Survival"
)

# With median lines and CI bands
km <- create_km_plot(
  data = adtte,
  show_median = TRUE,
  show_ci = TRUE,
  risk_table = TRUE
)
}
}
