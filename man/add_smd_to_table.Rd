% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gba_utils.R
\name{add_smd_to_table}
\alias{add_smd_to_table}
\title{Add SMD Column to Demographics/Baseline Table}
\usage{
add_smd_to_table(
  data,
  trt_var,
  vars,
  ref_group = NULL,
  threshold = 0.1,
  conf_level = 0.95,
  flag_symbol = "*"
)
}
\arguments{
\item{data}{A data frame containing the baseline data.}

\item{trt_var}{Character. Name of the treatment variable.}

\item{vars}{Character vector. Names of variables to calculate SMD for.}

\item{ref_group}{Character or NULL. Reference (control) group value.
If NULL, uses the first level.}

\item{threshold}{Numeric. SMD threshold for flagging imbalance (default: 0.1).
Common thresholds are 0.1 (strict) and 0.25 (lenient).}

\item{conf_level}{Numeric. Confidence level for CI (default: 0.95)}

\item{flag_symbol}{Character. Symbol to use for flagging imbalanced
variables (default: "*")}
}
\value{
A data frame with columns:
\itemize{
\item \code{variable}: Variable name
\item \code{smd}: Standardized mean difference
\item \code{ci}: Formatted confidence interval
\item \code{imbalanced}: Logical flag for |SMD| > threshold
\item \code{smd_display}: Formatted SMD with flag if imbalanced
}
}
\description{
Adds a standardized mean difference column to a baseline characteristics
table, flagging variables that exceed the imbalance threshold. This is
essential for GBA/AMNOG dossiers to demonstrate baseline comparability.
}
\examples{
\dontrun{
adsl <- data.frame(
  AGE = rnorm(200, 55, 12),
  WEIGHT = rnorm(200, 75, 15),
  SEX = sample(c("M", "F"), 200, replace = TRUE),
  TRT01P = rep(c("Treatment", "Placebo"), each = 100)
)

smd_table <- add_smd_to_table(
  data = adsl,
  trt_var = "TRT01P",
  vars = c("AGE", "WEIGHT", "SEX"),
  ref_group = "Placebo"
)
}
}
\references{
IQWiG (2020). General Methods: Version 6.0. Institute for Quality and
Efficiency in Health Care.
}
\seealso{
\code{\link[=assess_baseline_balance]{assess_baseline_balance()}}, \code{\link[=create_love_plot]{create_love_plot()}}
}
